<html>

<head>
    <title>Bootstrap 实例 - 滚动监听（Scrollspy）插件</title>
    <link href="http://libs.baidu.com/bootstrap/3.0.3/css/bootstrap.min.css" rel="stylesheet">
    <script src="http://libs.baidu.com/jquery/2.0.0/jquery.min.js"></script>
    <script src="http://libs.baidu.com/bootstrap/3.0.3/js/bootstrap.min.js"></script>
</head>
<style>
    .fixed {
        position: fixed;
        top: 10px;
    }
    #he2{
        transition: all .3s
    }
    .red{
        background-color: red;
    }
    
</style>

<body>
    <div>
        <div id="he1" style="height:100px;background-color:#333;">
            <div style="height:60px;">
                
            </div>
            <div id="he2" style="height:40px;">
                        <a href="#lia" id="lia1a"  type="button" class="btn btn-success">俩啊</a>
                        <a href="#lia2" id="lia2a" type="button" class="btn btn-success">AA</a >
                    </div>
        </div>
        
        <div style="height:2900px;backgroun-color:red">
            <div id="lia"  style="height:1500px;background-color:blue">
                
            </div>
            <div id="lia2" style="height:2000px;background-color:red">
                
            </div>
        </div>
    </div>

    <script>
        $(function() {
            var he1=$("#he1").height();
            var qie=$('#lia').height()+he1;
            var win=$(window);
            
            var ch=0,ch1=0
            win.scroll(function() {
                    var ch= win.scrollTop();
                if (ch >= he1) {

                     $('#he2').css({
                          'position': 'fixed',
                            'top': '10px'
                     })
                } else {
  
                    $('#he2').css({
                          'position': 'static',
                         'top': '0'
                     })
                }
                if(ch>=ch1){ //下滑
                    if(ch >=qie){
                        $('#he2 a').removeClass('red');
                        $('#lia2a').addClass('red');
                    }
                    else{
                        $('#he2 a').removeClass('red');
                        $('#lia1a').addClass('red');
                    }
                }
                else{//上滑
                        if(ch >=qie){
                            $('#he2 a').removeClass('red');
                            $('#lia2a').addClass('red');
                        }
                        else{
                            $('#he2 a').removeClass('red');
                            $('#lia1a').addClass('red');
                        }
                }
                
                
                setTimeout(function(){ch1 = ch;},0);         
            })
        })
    </script>
</body>

</html>